:root{--bg-primary: #292929;--bg-secondary: #1f1f1f;--bg-tertiary: #3a3a3a;--bg-hover: #404040;--accent-primary: #6264A7;--accent-hover: #7577bd;--text-primary: #ffffff;--text-secondary: #b3b3b3;--text-tertiary: #8a8a8a;--border-color: #484848;--success: #92c353;--error: #e74856;--mention-bg: rgba(98, 100, 167, .2);--mention-text: #8b8ddf}*{margin:0;padding:0;box-sizing:border-box}body{font-family:Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif;background-color:var(--bg-primary);color:var(--text-primary);height:100vh;overflow:hidden}#app{height:100vh;display:flex;flex-direction:column}.screen{height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#1f1f1f,#292929)}.screen-content{text-align:center;padding:3rem;background:var(--bg-secondary);border-radius:12px;box-shadow:0 8px 32px #0006;min-width:400px}.screen-content h1{font-size:2.5rem;margin-bottom:.5rem;background:linear-gradient(135deg,var(--accent-primary),var(--accent-hover));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.screen-content h2{font-size:1.5rem;margin-bottom:2rem;color:var(--text-secondary);font-weight:400}.hidden{display:none!important}.card-container{display:flex;gap:1.5rem;justify-content:center}.role-card{display:flex;flex-direction:column;align-items:center;gap:1rem;padding:2rem 3rem;background:var(--bg-tertiary);border:2px solid var(--border-color);border-radius:12px;cursor:pointer;transition:all .3s ease;font-size:1rem;color:var(--text-primary)}.role-card:hover{background:var(--bg-hover);border-color:var(--accent-primary);transform:translateY(-4px);box-shadow:0 8px 24px #6264a74d}.role-icon{font-size:3rem}.role-label{font-size:1.2rem;font-weight:500}.teacher-card:hover{border-color:#e74856}.student-card:hover{border-color:#92c353}#setup-form{display:flex;flex-direction:column;gap:1.5rem}.input-group{display:flex;flex-direction:column;gap:.5rem;text-align:left}.input-group label{font-size:.9rem;color:var(--text-secondary);font-weight:500}.input-group input{padding:.75rem 1rem;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:6px;color:var(--text-primary);font-size:1rem;transition:all .2s ease}.input-group input:focus{outline:none;border-color:var(--accent-primary);box-shadow:0 0 0 3px #6264a733}.primary-btn{padding:.875rem 1.5rem;background:var(--accent-primary);color:var(--text-primary);border:none;border-radius:6px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease}.primary-btn:hover{background:var(--accent-hover);transform:translateY(-2px);box-shadow:0 4px 12px #6264a766}.secondary-btn{padding:.875rem 1.5rem;background:transparent;color:var(--text-secondary);border:1px solid var(--border-color);border-radius:6px;font-size:1rem;cursor:pointer;transition:all .2s ease}.secondary-btn:hover{background:var(--bg-tertiary);color:var(--text-primary)}#chat-interface{display:flex;flex-direction:column;height:100vh}.chat-header{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1.5rem;background:var(--bg-secondary);border-bottom:1px solid var(--border-color);height:60px}.header-left{display:flex;align-items:center;gap:1rem}.app-title{font-size:1.25rem;font-weight:600}.class-badge{padding:.375rem .875rem;background:var(--accent-primary);border-radius:16px;font-size:.875rem;font-weight:500}.header-right{display:flex;align-items:center;gap:1rem}.user-menu{position:relative}.user-name-display{padding:.5rem 1rem;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:6px;color:var(--text-primary);cursor:pointer;font-size:.9rem;transition:all .2s ease}.user-name-display:hover{background:var(--bg-hover);background-color:#0000000d}.dropdown-menu{position:absolute;top:100%;left:0;margin-top:.5rem;background-color:var(--bg-primary);border:1px solid var(--border-color);border-radius:8px;box-shadow:0 4px 12px #0000001a;padding:1.5rem;width:250px;z-index:100;display:flex;flex-direction:column;gap:.75rem}.dropdown-menu input{padding:.625rem;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary);font-size:.9rem}.dropdown-menu input:focus{outline:none;border-color:var(--accent-primary)}.dropdown-btn{padding:.625rem;background:var(--accent-primary);color:var(--text-primary);border:none;border-radius:4px;cursor:pointer;font-size:.9rem;font-weight:500;transition:background .2s ease}.dropdown-btn:hover{background:var(--accent-hover)}.header-btn{background:none;border:none;font-size:1rem;cursor:pointer;padding:.5rem 1rem;border-radius:6px;transition:background-color .2s;display:flex;align-items:center;justify-content:center;gap:.5rem;color:var(--text-primary);white-space:nowrap}.header-btn:hover{background-color:#0000000d}.menu-btn{font-size:1.5rem;padding:.25rem .5rem}.status{font-size:.8rem;padding:.35rem .75rem;border-radius:20px;font-weight:600;text-transform:uppercase;letter-spacing:.05em;border:1px solid transparent;transition:all .3s ease;white-space:nowrap}.status.connected{background-color:#10b98126;color:#10b981;border-color:#10b9814d}.status.disconnected{background-color:#ef444426;color:#ef4444;border-color:#ef44444d}.media-modal{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content{background-color:var(--bg-primary);border-radius:12px;box-shadow:0 10px 25px #0003;width:500px;max-width:90%;max-height:80vh;display:flex;flex-direction:column;overflow:hidden}.popup-header{padding:1rem 1.5rem;border-bottom:1px solid var(--border-color);background-color:var(--bg-secondary);display:flex;justify-content:space-between;align-items:center}.popup-header h3{font-size:1rem;font-weight:600;color:var(--text-primary);margin:0}.close-btn{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--text-secondary);padding:0;line-height:1}.close-btn:hover{color:var(--text-primary)}.media-list{padding:1.5rem;display:flex;flex-direction:column;gap:.75rem;overflow-y:auto}.empty-media-state{color:var(--text-secondary);font-size:.9rem;text-align:center;margin-top:1rem;font-style:italic}.media-item{display:flex;align-items:center;gap:.75rem;padding:.75rem;background-color:var(--bg-secondary);border-radius:8px;border:1px solid var(--border-color);transition:transform .2s}.media-item:hover{transform:translateY(-1px)}.media-icon{font-size:1.5rem}.media-info{flex:1;min-width:0}.media-name{font-size:.9rem;font-weight:500;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:.25rem}.media-meta{font-size:.75rem;color:var(--text-secondary);display:flex;justify-content:space-between}.media-download-btn{width:36px;height:36px;padding:0;background:var(--accent-primary);color:var(--text-primary);border:none;border-radius:50%;font-size:1.1rem;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;flex-shrink:0}.media-download-btn:hover{background:var(--accent-hover);transform:scale(1.1);box-shadow:0 4px 12px #6264a766}.media-download-btn:active{transform:scale(1.05)}.chat-main{display:flex;flex:1;overflow:hidden}.sidebar-left{background-color:var(--bg-secondary);border-right:1px solid var(--border-color);display:flex;flex-direction:column;overflow-y:auto;width:300px;transition:transform .3s ease}.sidebar-header{padding:1rem;border-bottom:1px solid var(--border-color);background-color:var(--bg-secondary);position:sticky;top:0;z-index:10}.sidebar-header h3{font-size:.9rem;text-transform:uppercase;letter-spacing:.05em;color:var(--text-secondary);margin:0}.sidebar-divider{height:1px;background:var(--border-color);margin:.5rem 0;flex-shrink:0}.classes-list{padding:.5rem;flex-shrink:0;display:flex;flex-direction:column;gap:.25rem}.class-item{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;border-radius:6px;cursor:pointer;transition:background .2s ease;color:var(--text-secondary)}.class-item:hover{background:var(--bg-hover);color:var(--text-primary)}.class-item.active{background:var(--bg-tertiary);color:var(--text-primary);border-left:3px solid var(--accent-primary)}.class-item.joined .class-name{font-weight:600}.class-icon{font-size:1.1rem;width:24px;text-align:center}.status-icon{display:inline-block}.leave-icon{display:none;color:var(--error)}.joined-icon{color:var(--success)}.class-item.joined:hover .joined-icon{display:none}.class-item.joined:hover .leave-icon{display:inline-block}.class-name{font-size:.95rem;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.users-list{padding:.5rem;overflow-y:auto;flex:1}.user-item{display:flex;align-items:center;gap:.625rem;padding:.625rem .875rem;border-radius:6px;cursor:pointer;transition:background .2s ease}.user-item:hover{background:var(--bg-hover)}.user-status{width:8px;height:8px;border-radius:50%;font-size:.9rem;text-transform:uppercase;letter-spacing:.05em;color:var(--text-secondary);margin:0}.chat-area{display:flex;flex-direction:column;background-color:var(--bg-primary);position:relative;min-width:0;flex:1}.messages-container{flex:1;padding:0 1.5rem 1.5rem;overflow-y:auto;display:flex;flex-direction:column;gap:1rem}.messages-container>.message:first-child{margin-top:1.5rem}.message{display:flex;flex-direction:column;gap:.5rem;padding:1rem;background:var(--bg-secondary);border-radius:12px;border-left:3px solid transparent;transition:all .2s ease}.message:hover{background:var(--bg-tertiary);transform:translate(2px)}.message-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.25rem}.message-sender{font-weight:600;font-size:.9rem;padding:.25rem .75rem;border-radius:12px;display:inline-block}.message-sender.teacher{background:#e7485626;color:#e74856;border:1px solid rgba(231,72,86,.3)}.message-sender.student{background:#92c35326;color:#92c353;border:1px solid rgba(146,195,83,.3)}.message-sender.system{background:#6264a726;color:var(--accent-primary);border:1px solid rgba(98,100,167,.3)}.message-time{font-size:.75rem;color:var(--text-tertiary);font-weight:400}.message-content{color:var(--text-primary);font-size:.95rem;line-height:1.5;word-wrap:break-word;padding:.5rem 0}.mention{background:var(--mention-bg);color:var(--mention-text);padding:.125rem .375rem;border-radius:4px;font-weight:500}.file-message{display:flex;align-items:center;gap:1rem;padding:1rem;background:var(--bg-tertiary);border-radius:8px;border:1px solid var(--border-color);transition:all .2s ease}.file-message:hover{background:var(--bg-hover);border-color:var(--accent-primary)}.file-icon{font-size:2rem;flex-shrink:0}.file-info{flex:1;min-width:0;display:flex;flex-direction:column;gap:.25rem}.file-name{font-weight:500;color:var(--text-primary);font-size:.95rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.file-size{font-size:.8rem;color:var(--text-secondary)}.file-download-btn{width:40px;height:40px;padding:0;background:var(--accent-primary);color:var(--text-primary);border:none;border-radius:50%;font-size:1.25rem;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;flex-shrink:0}.file-download-btn:hover{background:var(--accent-hover);transform:scale(1.1);box-shadow:0 4px 12px #6264a766}.file-download-btn:active{transform:scale(1.05)}.message-input-area{padding:1rem;background-color:var(--bg-secondary);border-top:1px solid var(--border-color);display:flex;gap:.75rem;align-items:center;position:relative}.input-actions-left{display:flex;gap:.5rem}.attach-btn,.emoji-btn{background:none;border:none;font-size:1.25rem;cursor:pointer;padding:.5rem;border-radius:50%;color:var(--text-secondary);transition:background-color .2s,color .2s;display:flex;align-items:center;justify-content:center}.attach-btn:hover,.emoji-btn:hover{background-color:#0000000d;color:var(--primary-color)}.emoji-picker{position:absolute;bottom:100%;left:0;width:100%;height:50vh;background-color:var(--bg-primary);border-top:1px solid var(--border-color);box-shadow:0 -4px 12px #0000001a;padding:1rem;overflow-y:auto;display:grid;grid-template-columns:repeat(auto-fill,minmax(40px,1fr));gap:8px;z-index:50}.emoji-item{font-size:2rem;cursor:pointer;padding:8px;border-radius:8px;text-align:center;-webkit-user-select:none;user-select:none;transition:background-color .1s}.emoji-item:hover{background-color:var(--bg-secondary)}#message-input{flex:1;padding:.75rem 1rem;border:1px solid var(--border-color);border-radius:24px;font-size:1rem;outline:none;transition:border-color .2s,box-shadow .2s;min-width:0}#message-input:focus{border-color:var(--primary-color);box-shadow:0 0 0 3px #2563eb1a}.send-btn{background-color:var(--primary-color);color:#fff;border:none;padding:.75rem 1.5rem;border-radius:24px;font-weight:600;cursor:pointer;transition:background-color .2s,transform .1s}.send-btn:hover{background-color:var(--primary-hover)}.send-btn:active{transform:scale(.98)}.send-btn:active{transform:translateY(0)}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:var(--bg-secondary)}::-webkit-scrollbar-thumb{background:var(--bg-tertiary);border-radius:4px}::-webkit-scrollbar-thumb:hover{background:var(--bg-hover)}.mobile-only{display:none}.sidebar-overlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;z-index:999}.sidebar-overlay.active{display:block}@media(max-width:768px){.mobile-only{display:block}.chat-header{padding:.5rem 1rem}.app-title{display:none}.class-badge{padding:.25rem .625rem;font-size:.75rem}.status{padding:0;font-size:0;width:12px;height:12px;border-radius:50%;border:none}.status.connected{background-color:#10b981}.status.disconnected{background-color:#ef4444}.sidebar-left{position:fixed;left:0;top:60px;height:calc(100vh - 60px);width:80%;max-width:300px;transform:translate(-100%);transition:transform .3s ease;z-index:1000;box-shadow:2px 0 8px #0000004d}.sidebar-left.active{transform:translate(0)}.header-btn span{display:none}.header-btn{padding:.5rem}}.available-classes-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1.5rem;margin:2rem 0;max-width:900px}.available-class-card{display:flex;align-items:center;gap:1rem;padding:1.5rem;background:var(--bg-tertiary);border:2px solid var(--border-color);border-radius:12px;cursor:pointer;transition:all .3s ease}.available-class-card:hover{background:var(--bg-hover);border-color:var(--accent-primary);transform:translateY(-4px);box-shadow:0 8px 24px #6264a74d}.class-card-icon{font-size:2.5rem;flex-shrink:0}.class-card-info{flex:1;min-width:0}.class-card-name{font-size:1.1rem;font-weight:600;color:var(--text-primary);margin-bottom:.25rem}.class-card-teacher{font-size:.9rem;color:var(--text-secondary)}.class-card-join-btn{padding:.5rem 1rem;background:var(--accent-primary);color:var(--text-primary);border:none;border-radius:6px;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .2s ease;flex-shrink:0}.class-card-join-btn:hover{background:var(--accent-hover);transform:scale(1.05)}.spinner{display:inline-block;width:24px;height:24px;border:3px solid rgba(98,100,167,.3);border-radius:50%;border-top-color:var(--accent-primary);animation:spin 1s ease-in-out infinite;margin-bottom:1rem}@keyframes spin{to{transform:rotate(360deg)}}.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;color:var(--text-secondary);font-size:1rem;padding:3rem 1rem;font-style:italic}.drag-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#6264a7f2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);z-index:9999;display:flex;align-items:center;justify-content:center;pointer-events:none;opacity:1;transition:opacity .3s ease}.drag-overlay.hidden{opacity:0;pointer-events:none;display:none}.drag-overlay-content{text-align:center;animation:dragPulse 1.5s ease-in-out infinite}.drag-icon{font-size:5rem;margin-bottom:1rem;animation:dragBounce .6s ease-in-out infinite alternate}.drag-text{font-size:1.5rem;font-weight:600;color:var(--text-primary);text-shadow:0 2px 8px rgba(0,0,0,.3)}@keyframes dragPulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes dragBounce{0%{transform:translateY(0)}to{transform:translateY(-10px)}}
